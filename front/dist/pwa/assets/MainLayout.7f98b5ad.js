import{c as K,a as i,h as q,d as ie,i as _e,e as P,r as T,w as f,o as ke,f as He,g as xe,l as Ce,j as Ne,k as Re,m as Ue,n as Ee,p as je,q as Ge,s as Ke,t as Je,v as me,x as qe,y as he,z as Xe,_ as Ye,A as Ze,B as W,C as oe,E as r,F as l,Q as re,G as ne,H as M,I as H,J as O,K as et,L as be,M as tt,O as ye,P as we,R as at}from"./index.3f1820d1.js";import{Q as lt,a as N,b as k,c as S}from"./QMenu.1bc81e40.js";import{Q as ge}from"./QList.660aacfd.js";import{Q as ot}from"./QBtnGroup.8edd49f8.js";import{Q as rt}from"./QResizeObserver.08787bf8.js";import{Q as nt}from"./QChip.ce31e0ff.js";import{T as ue}from"./TouchPan.ed0217cf.js";import{b as G}from"./format.2cae61da.js";import{Q as ut,a as it}from"./QLayout.231195f2.js";import{C as st}from"./ClosePopup.492bf86f.js";import"./selection.eb53c15a.js";import"./touch.9135741d.js";var dt=K({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:v}){const h=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>q("div",{class:h.value},ie(v.default))}}),ct=K({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:v}){const h=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>q("div",{class:h.value,role:"toolbar"},ie(v.default))}}),ft=K({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:v,emit:h}){const{proxy:{$q:Q}}=xe(),u=_e(Ce,P);if(u===P)return console.error("QHeader needs to be child of QLayout"),P;const m=T(parseInt(e.heightHint,10)),p=T(!0),c=i(()=>e.reveal===!0||u.view.value.indexOf("H")!==-1||Q.platform.is.ios&&u.isContainer.value===!0),A=i(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return p.value===!0?m.value:0;const o=m.value-u.scroll.value.position;return o>0?o:0}),R=i(()=>e.modelValue!==!0||c.value===!0&&p.value!==!0),a=i(()=>e.modelValue===!0&&R.value===!0&&e.reveal===!0),z=i(()=>"q-header q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(R.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),x=i(()=>{const o=u.rows.value.top,_={};return o[0]==="l"&&u.left.space===!0&&(_[Q.lang.rtl===!0?"right":"left"]=`${u.left.size}px`),o[2]==="r"&&u.right.space===!0&&(_[Q.lang.rtl===!0?"left":"right"]=`${u.right.size}px`),_});function b(o,_){u.update("header",o,_)}function d(o,_){o.value!==_&&(o.value=_)}function L({height:o}){d(m,o),b("size",o)}function y(o){a.value===!0&&d(p,!0),h("focusin",o)}f(()=>e.modelValue,o=>{b("space",o),d(p,!0),u.animate()}),f(A,o=>{b("offset",o)}),f(()=>e.reveal,o=>{o===!1&&d(p,e.modelValue)}),f(p,o=>{u.animate(),h("reveal",o)}),f(u.scroll,o=>{e.reveal===!0&&d(p,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const s={};return u.instances.header=s,e.modelValue===!0&&b("size",m.value),b("space",e.modelValue),b("offset",A.value),ke(()=>{u.instances.header===s&&(u.instances.header=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const o=He(v.default,[]);return e.elevated===!0&&o.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(q(rt,{debounce:0,onResize:L})),q("header",{class:z.value,style:x.value,onFocusin:y},o)}}});const pe=150;var vt=K({name:"QDrawer",inheritAttrs:!1,props:{...Ne,...Re,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ue,"onLayout","miniState"],setup(e,{slots:v,emit:h,attrs:Q}){const u=xe(),{proxy:{$q:m}}=u,p=Ee(e,m),{preventBodyScroll:c}=Xe(),{registerTimeout:A,removeTimeout:R}=je(),a=_e(Ce,P);if(a===P)return console.error("QDrawer needs to be child of QLayout"),P;let z,x=null,b;const d=T(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),L=i(()=>e.mini===!0&&d.value!==!0),y=i(()=>L.value===!0?e.miniWidth:e.width),s=T(e.showIfAbove===!0&&d.value===!1?!0:e.modelValue===!0),o=i(()=>e.persistent!==!0&&(d.value===!0||Te.value===!0));function _(t,n){if(Be(),t!==!1&&a.animate(),g(0),d.value===!0){const w=a.instances[E.value];w!==void 0&&w.belowBreakpoint===!0&&w.hide(!1),B(1),a.isContainer.value!==!0&&c(!0)}else B(0),t!==!1&&te(!1);A(()=>{t!==!1&&te(!0),n!==!0&&h("show",t)},pe)}function se(t,n){$e(),t!==!1&&a.animate(),B(0),g(D.value*y.value),ae(),n!==!0?A(()=>{h("hide",t)},pe):R()}const{show:J,hide:F}=Ge({showing:s,hideOnRouteChange:o,handleShow:_,handleHide:se}),{addToHistory:Be,removeFromHistory:$e}=Ke(s,F,o),U={belowBreakpoint:d,hide:F},C=i(()=>e.side==="right"),D=i(()=>(m.lang.rtl===!0?-1:1)*(C.value===!0?1:-1)),de=T(0),V=T(!1),X=T(!1),ce=T(y.value*D.value),E=i(()=>C.value===!0?"left":"right"),Y=i(()=>s.value===!0&&d.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),Z=i(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(C.value?"R":"L")!==-1||m.platform.is.ios===!0&&a.isContainer.value===!0),I=i(()=>e.overlay===!1&&s.value===!0&&d.value===!1),Te=i(()=>e.overlay===!0&&s.value===!0&&d.value===!1),Qe=i(()=>"fullscreen q-drawer__backdrop"+(s.value===!1&&V.value===!1?" hidden":"")),Le=i(()=>({backgroundColor:`rgba(0,0,0,${de.value*.4})`})),fe=i(()=>C.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Oe=i(()=>C.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Se=i(()=>{const t={};return a.header.space===!0&&fe.value===!1&&(Z.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Oe.value===!1&&(Z.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),De=i(()=>{const t={width:`${y.value}px`,transform:`translateX(${ce.value}px)`};return d.value===!0?t:Object.assign(t,Se.value)}),Ve=i(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Me=i(()=>`q-drawer q-drawer--${e.side}`+(X.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(p.value===!0?" q-drawer--dark q-dark":"")+(V.value===!0?" no-transition":s.value===!0?"":" q-layout--prevent-focus")+(d.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${L.value===!0?"mini":"standard"}`+(Z.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(fe.value===!0?" q-drawer--top-padding":""))),Pe=i(()=>{const t=m.lang.rtl===!0?e.side:E.value;return[[ue,Ie,void 0,{[t]:!0,mouse:!0}]]}),Ae=i(()=>{const t=m.lang.rtl===!0?E.value:e.side;return[[ue,ve,void 0,{[t]:!0,mouse:!0}]]}),ze=i(()=>{const t=m.lang.rtl===!0?E.value:e.side;return[[ue,ve,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ee(){We(d,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}f(d,t=>{t===!0?(z=s.value,s.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&z!==!1&&(s.value===!0?(g(0),B(0),ae()):J(!1))}),f(()=>e.side,(t,n)=>{a.instances[n]===U&&(a.instances[n]=void 0,a[n].space=!1,a[n].offset=0),a.instances[t]=U,a[t].size=y.value,a[t].space=I.value,a[t].offset=Y.value}),f(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ee()}),f(()=>e.behavior+e.breakpoint,ee),f(a.isContainer,t=>{s.value===!0&&c(t!==!0),t===!0&&ee()}),f(a.scrollbarWidth,()=>{g(s.value===!0?0:void 0)}),f(Y,t=>{$("offset",t)}),f(I,t=>{h("onLayout",t),$("space",t)}),f(C,()=>{g()}),f(y,t=>{g(),le(e.miniToOverlay,t)}),f(()=>e.miniToOverlay,t=>{le(t,y.value)}),f(()=>m.lang.rtl,()=>{g()}),f(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Fe(),a.animate())}),f(L,t=>{h("miniState",t)});function g(t){t===void 0?me(()=>{t=s.value===!0?0:y.value,g(D.value*t)}):(a.isContainer.value===!0&&C.value===!0&&(d.value===!0||Math.abs(t)===y.value)&&(t+=D.value*a.scrollbarWidth.value),ce.value=t)}function B(t){de.value=t}function te(t){const n=t===!0?"remove":a.isContainer.value!==!0?"add":"";n!==""&&document.body.classList[n]("q-body--drawer-toggle")}function Fe(){x!==null&&clearTimeout(x),u.proxy&&u.proxy.$el&&u.proxy.$el.classList.add("q-drawer--mini-animate"),X.value=!0,x=setTimeout(()=>{x=null,X.value=!1,u&&u.proxy&&u.proxy.$el&&u.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ie(t){if(s.value!==!1)return;const n=y.value,w=G(t.distance.x,0,n);if(t.isFinal===!0){w>=Math.min(75,n)===!0?J():(a.animate(),B(0),g(D.value*n)),V.value=!1;return}g((m.lang.rtl===!0?C.value!==!0:C.value)?Math.max(n-w,0):Math.min(0,w-n)),B(G(w/n,0,1)),t.isFirst===!0&&(V.value=!0)}function ve(t){if(s.value!==!0)return;const n=y.value,w=t.direction===e.side,j=(m.lang.rtl===!0?w!==!0:w)?G(t.distance.x,0,n):0;if(t.isFinal===!0){Math.abs(j)<Math.min(75,n)===!0?(a.animate(),B(1),g(0)):F(),V.value=!1;return}g(D.value*j),B(G(1-j/n,0,1)),t.isFirst===!0&&(V.value=!0)}function ae(){c(!1),te(!0)}function $(t,n){a.update(e.side,t,n)}function We(t,n){t.value!==n&&(t.value=n)}function le(t,n){$("size",t===!0?e.miniWidth:n)}return a.instances[e.side]=U,le(e.miniToOverlay,y.value),$("space",I.value),$("offset",Y.value),e.showIfAbove===!0&&e.modelValue!==!0&&s.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),Je(()=>{h("onLayout",I.value),h("miniState",L.value),z=e.showIfAbove===!0;const t=()=>{(s.value===!0?_:se)(!1,!0)};if(a.totalWidth.value!==0){me(t);return}b=f(a.totalWidth,()=>{b(),b=void 0,s.value===!1&&e.showIfAbove===!0&&d.value===!1?J(!1):t()})}),ke(()=>{b!==void 0&&b(),x!==null&&(clearTimeout(x),x=null),s.value===!0&&ae(),a.instances[e.side]===U&&(a.instances[e.side]=void 0,$("size",0),$("offset",0),$("space",!1))}),()=>{const t=[];d.value===!0&&(e.noSwipeOpen===!1&&t.push(qe(q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Pe.value)),t.push(he("div",{ref:"backdrop",class:Qe.value,style:Le.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&s.value===!0,()=>ze.value)));const n=L.value===!0&&v.mini!==void 0,w=[q("div",{...Q,key:""+n,class:[Ve.value,Q.class]},n===!0?v.mini():ie(v.default))];return e.elevated===!0&&s.value===!0&&w.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(he("aside",{ref:"content",class:Me.value,style:De.value},w,"contentclose",e.noSwipeClose!==!0&&d.value===!0,()=>Ae.value)),q("div",{class:"q-drawer-container"},t)}}});const mt={name:"MainLayout",data(){return{leftDrawerOpen:!1,linksList:[{title:"Principal",icon:"home",link:"/",can:["Todos"]},{title:"Usuarios",icon:"account_circle",link:"/usuarios",can:["Administrador"]},{title:"Pacientes",icon:"people",link:"/pacientes",can:["Todos"]},{title:"Productos",icon:"shopping_cart",link:"/productos",can:["Farmacia","Administrador"]},{title:"Ventas",icon:"point_of_sale",link:"/venta",can:["Todos"]},{title:"Venta Nueva",icon:"point_of_sale",link:"/ventaNuevo",can:["Todos"]},{title:"Proveedores",icon:"local_shipping",link:"/proveedores",can:["Farmacia","Administrador"]},{title:"Compras",icon:"shopping_basket",link:"/compras",can:["Farmacia","Administrador"]},{title:"Compras Nueva",icon:"shopping_basket",link:"/compras-create",can:["Farmacia","Administrador"]},{title:"Productos por vencer",icon:"warning",link:"/productos-vencer",can:["Farmacia","Administrador"]},{title:"Productos vencidos",icon:"warning",link:"/productos-vencidos",can:["Farmacia","Administrador"]}]}},methods:{logout(){this.$alert.dialog("\xBFDesea salir del sistema?").onOk(()=>{this.$store.isLogged=!1,this.$store.user={},localStorage.removeItem("tokenEducation"),this.$router.push("/login")})},toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen}},computed:{rutaActual(){return this.$route.path}}},ht={class:"text-subtitle2"};function bt(e,v,h,Q,u,m){const p=Ze("router-view");return W(),oe(ut,{view:"hHh Lpr lFf"},{default:r(()=>[l(ft,{class:"bg-white text-primary",bordered:""},{default:r(()=>[l(ct,null,{default:r(()=>[l(re,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:m.toggleLeftDrawer},null,8,["onClick"]),l(dt,null,{default:r(()=>[ne("span",ht,M(e.$version),1)]),_:1}),ne("div",null,[l(ot,{flat:""},{default:r(()=>[l(re,{"no-caps":"",icon:"o_notifications"}),l(re,{"no-caps":"",icon:"o_account_circle"},{default:r(()=>[l(lt,null,{default:r(()=>[l(ge,null,{default:r(()=>[l(N,{clickable:""},{default:r(()=>[l(k,{avatar:""},{default:r(()=>[l(H,{name:"account_circle"})]),_:1}),l(k,null,{default:r(()=>[l(S,null,{default:r(()=>[O(M(e.$store.user.name),1)]),_:1}),l(S,{caption:""},{default:r(()=>[O(M(e.$store.user.role),1)]),_:1})]),_:1})]),_:1}),l(et),qe((W(),oe(N,{clickable:"",onClick:m.logout},{default:r(()=>[l(k,{avatar:""},{default:r(()=>[l(H,{name:"exit_to_app"})]),_:1}),l(k,null,{default:r(()=>[l(S,null,{default:r(()=>v[1]||(v[1]=[O("Salir")])),_:1})]),_:1})]),_:1},8,["onClick"])),[[st]])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),l(vt,{modelValue:u.leftDrawerOpen,"onUpdate:modelValue":v[0]||(v[0]=c=>u.leftDrawerOpen=c),"show-if-above":"",width:200,breakpoint:500,class:"bg-primary text-white"},{default:r(()=>[l(ge,{dense:""},{default:r(()=>[l(N,{dense:""},{default:r(()=>[l(k,{avatar:""},{default:r(()=>[l(H,{name:"account_circle"})]),_:1}),l(k,null,{default:r(()=>[l(S,null,{default:r(()=>[O(M(e.$store.user.name),1)]),_:1}),l(S,{caption:""},{default:r(()=>[l(nt,{color:e.$store.user.color,"text-color":"white",dense:""},{default:r(()=>[O(M(e.$store.user.role),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),v[3]||(v[3]=ne("div",{class:"text-white text-center text-bold"}," Opciones ",-1)),(W(!0),be(ye,null,tt(u.linksList,c=>(W(),be(ye,{key:c.title},[c&&e.$store.user&&(c.can.includes(e.$store.user.role)||c.can.includes("Todos"))?(W(),oe(N,{key:0,clickable:"",to:c.link,exact:"",class:"text-grey","active-class":"menu"},{default:r(()=>[l(k,{avatar:""},{default:r(()=>[l(H,{name:e.$route.path===c.link?"o_"+c.icon:c.icon,class:we(e.$route.path===c.link?"text-white":"")},null,8,["name","class"])]),_:2},1024),l(k,null,{default:r(()=>[l(S,{class:we(e.$route.path===c.link?"text-white text-bold":"")},{default:r(()=>[O(M(c.title),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["to"])):at("",!0)],64))),128)),l(N,{clickable:"",class:"text-red",onClick:m.logout},{default:r(()=>[l(k,{avatar:""},{default:r(()=>[l(H,{name:"exit_to_app"})]),_:1}),l(k,null,{default:r(()=>[l(S,null,{default:r(()=>v[2]||(v[2]=[O("Salir")])),_:1})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue"]),l(it,{class:"bg-grey-3"},{default:r(()=>[l(p)]),_:1})]),_:1})}var Lt=Ye(mt,[["render",bt]]);export{Lt as default};
